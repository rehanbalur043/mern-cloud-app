{"ast":null,"code":"import _objectSpread from\"D:/Cloud Comp/mern-cloud-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Container,Paper,TextField,Button,Typography,Box,Alert,Link,CircularProgress}from'@mui/material';import{useDispatch,useSelector}from'react-redux';import{useNavigate,useLocation}from'react-router-dom';import{login,clearError}from'../../store/slices/authSlice';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const dispatch=useDispatch();const navigate=useNavigate();const location=useLocation();const{isLoading,error,user}=useSelector(state=>state.auth);useEffect(()=>{if(user){var _location$state,_location$state$from;const from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/dashboard';navigate(from,{replace:true});}},[user,navigate,location]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();dispatch(clearError());await dispatch(login(formData));toast.success('Login successful!');};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Login\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:formData.email,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Sign In'}),/*#__PURE__*/_jsx(Link,{href:\"/register\",variant:\"body2\",underline:\"hover\",children:\"Don't have an account? Sign Up\"})]})]})})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","TextField","Button","Typography","Box","Alert","Link","CircularProgress","useDispatch","useSelector","useNavigate","useLocation","login","clearError","toast","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","dispatch","navigate","location","isLoading","error","user","state","auth","_location$state","_location$state$from","from","pathname","replace","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","success","component","maxWidth","children","sx","marginTop","display","flexDirection","alignItems","elevation","p","width","variant","align","gutterBottom","severity","mb","onSubmit","mt","margin","required","fullWidth","id","label","autoComplete","autoFocus","onChange","type","disabled","size","href","underline"],"sources":["D:/Cloud Comp/mern-cloud-app/frontend/src/components/auth/Login.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  Alert,\r\n  Link,\r\n  CircularProgress\r\n} from '@mui/material';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { login, clearError } from '../../store/slices/authSlice';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({ email: '', password: '' });\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { isLoading, error, user } = useSelector((state) => state.auth);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const from = location.state?.from?.pathname || '/dashboard';\r\n      navigate(from, { replace: true });\r\n    }\r\n  }, [user, navigate, location]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(clearError());\r\n    await dispatch(login(formData));\r\n    toast.success('Login successful!');\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Box\r\n        sx={{\r\n          marginTop: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Paper elevation={3} sx={{ p: 4, width: '100%' }}>\r\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\" gutterBottom>\r\n            Login\r\n          </Typography>\r\n          \r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n\r\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? <CircularProgress size={24} /> : 'Sign In'}\r\n            </Button>\r\n            <Link href=\"/register\" variant=\"body2\" underline=\"hover\">\r\n              {\"Don't have an account? Sign Up\"}\r\n            </Link>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}