{"ast":null,"code":"import React from'react';import{Container,Typography,Paper,Grid,Box,Chip,Button,Card,CardContent}from'@mui/material';import{useSelector}from'react-redux';import{Link}from'react-router-dom';import{useQuery}from'@tanstack/react-query';import apiService from'../../services/apiService';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useSelector(state=>state.auth);const{data:stats}=useQuery({queryKey:['stats'],queryFn:()=>apiService.getStats(),staleTime:5*60*1000});return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsxs(Paper,{sx:{p:4,mb:4},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:[\"Welcome, \",user===null||user===void 0?void 0:user.username,\"!\"]}),/*#__PURE__*/_jsx(Chip,{label:(user===null||user===void 0?void 0:user.role)==='admin'?'Admin':'User',color:(user===null||user===void 0?void 0:user.role)==='admin'?'error':'primary',size:\"large\"}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mt:1},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/products\",variant:\"contained\",size:\"large\",children:\"View Products\"})}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{component:Link,to:\"/admin/products\",variant:\"outlined\",size:\"large\",color:\"secondary\",children:\"Manage Products\"})})]})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Total Products\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:(stats===null||stats===void 0?void 0:stats.totalProducts)||0})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Electronics\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:(stats===null||stats===void 0?void 0:stats.electronics)||0})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{color:\"textSecondary\",gutterBottom:true,children:\"Clothing\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:(stats===null||stats===void 0?void 0:stats.clothing)||0})]})})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","Container","Typography","Paper","Grid","Box","Chip","Button","Card","CardContent","useSelector","Link","useQuery","apiService","jsxs","_jsxs","jsx","_jsx","Dashboard","user","state","auth","data","stats","queryKey","queryFn","getStats","staleTime","maxWidth","sx","mt","mb","children","p","variant","component","gutterBottom","username","label","role","color","size","container","spacing","item","to","xs","md","totalProducts","electronics","clothing"],"sources":["D:/Cloud Comp/mern-cloud-app/frontend/src/components/dashboard/Dashboard.jsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Grid,\r\n  Box,\r\n  Chip,\r\n  Button,\r\n  Card,\r\n  CardContent\r\n} from '@mui/material';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport apiService from '../../services/apiService';\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useSelector((state) => state.auth);\r\n\r\n  const { data: stats } = useQuery({\r\n    queryKey: ['stats'],\r\n    queryFn: () => apiService.getStats(),\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      <Paper sx={{ p: 4, mb: 4 }}>\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n          Welcome, {user?.username}!\r\n        </Typography>\r\n        <Chip\r\n          label={user?.role === 'admin' ? 'Admin' : 'User'}\r\n          color={user?.role === 'admin' ? 'error' : 'primary'}\r\n          size=\"large\"\r\n        />\r\n        <Box sx={{ mt: 3 }}>\r\n          <Typography variant=\"h6\">Quick Actions</Typography>\r\n          <Grid container spacing={2} sx={{ mt: 1 }}>\r\n            <Grid item>\r\n              <Button\r\n                component={Link}\r\n                to=\"/products\"\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n              >\r\n                View Products\r\n              </Button>\r\n            </Grid>\r\n            {user?.role === 'admin' && (\r\n              <Grid item>\r\n                <Button\r\n                  component={Link}\r\n                  to=\"/admin/products\"\r\n                  variant=\"outlined\"\r\n                  size=\"large\"\r\n                  color=\"secondary\"\r\n                >\r\n                  Manage Products\r\n                </Button>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Box>\r\n      </Paper>\r\n\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography color=\"textSecondary\" gutterBottom>\r\n                Total Products\r\n              </Typography>\r\n              <Typography variant=\"h4\">\r\n                {stats?.totalProducts || 0}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography color=\"textSecondary\" gutterBottom>\r\n                Electronics\r\n              </Typography>\r\n              <Typography variant=\"h4\">\r\n                {stats?.electronics || 0}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography color=\"textSecondary\" gutterBottom>\r\n                Clothing\r\n              </Typography>\r\n              <Typography variant=\"h4\">\r\n                {stats?.clothing || 0}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}